(this.webpackJsonpwebby=this.webpackJsonpwebby||[]).push([[0],{28:function(e,t,a){},41:function(e,t,a){e.exports=a(63)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=a(16),s=a(35),o=a(11),m=a(40),u=a(4),f={isLoad:!0,error:!1,moviesSearchList:null,moviesList:[]},d=a(12),p=a(21),b=a(39),v=a(38),E=a(3),h=a(6),O=a(33),j=a(17),y=a(25),N=(a(53),function(e){var t=e.children,a=e.onClick,n=e.className,l=e.disabled,c=(e.active,e.invert,Object(y.a)(e,["children","onClick","className","disabled","active","invert"])),i=c.href?"a":"button";return r.a.createElement(i,Object.assign({className:n,disabled:l,onClick:a},c),t)}),g=a(14),C=a.n(g),S=(a(54),function(e){var t=e.id,a=e.type,n=e.label,l=e.name,c=e.classNameControl,i=e.classNameLabel,s=e.classNameWrapper,o=e.handleFieldChange,m=Object(y.a)(e,["id","type","label","name","classNameControl","classNameLabel","classNameWrapper","handleFieldChange"]);return r.a.createElement("div",{className:C()("form-field-wrapper",s)},n&&r.a.createElement("label",{className:C()("form-field-label",i),htmlFor:t},n),"textarea"===a?r.a.createElement("textarea",Object.assign({className:C()("form-field-control",c),id:t,name:l},m,{onChange:function(e){return o(e)}})):r.a.createElement("input",Object.assign({id:t,type:a,name:l,onChange:function(e){return o(e)},className:C()("form-field-control",c)},m)))}),k=(a(55),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-img"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",className:"svg-inline--fa fa-spinner fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"#007bff",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}))))}),x=(a(56),function(e){var t=e.onClose,a=e.children,n=e.className;return r.a.createElement("div",{className:n},a,t&&r.a.createElement("button",{type:"button",className:"alert-close",onClick:t},r.a.createElement("span",null,"\xd7")))}),L=(a(57),function(e){var t=e.onClick,a=e.items;return e.isLoad?r.a.createElement(k,null):r.a.createElement("ul",{className:"list-group"},a.length>0?a.map((function(e){return r.a.createElement("li",{key:e.key,className:"list-group-item",onClick:function(){return t(e.key)}},e.title)})):r.a.createElement(x,{className:"alert alert-text-center alert-warning"},r.a.createElement("p",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442")))}),w=(a(58),function(e){for(var t=e.perPage,a=e.total,n=e.onClick,l=e.currentPage,c=[],i=1;i<=Math.ceil(a.length/t);i++)c.push(i);return 1===c.length?null:r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:"pagination-item"},r.a.createElement("button",{onClick:function(){return n(e)},className:C()("pagination-link",e===l&&"active")},e))}))))}),T=document.getElementById("modal-root"),_=function(e){var t=e.title,a=e.onCancel,n=e.children,l=e.onSubmit,i=e.isDisabled,s=e.submitBtnText;return c.a.createPortal(r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal-window"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},t),r.a.createElement("span",{className:"modal-close",onClick:a},"\xd7")),r.a.createElement("div",{className:"modal-body"},n),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(N,{className:"btn btn-primary",onClick:l,disabled:i},s)))),T)},D=(a(28),function(e){var t=e.handleCancel,a=e.handleDelete,n=e.movie,l=n.title,c=n.release,i=n.format,s=n.stars,o=n.key;return r.a.createElement(_,{title:l,onCancel:t,onSubmit:function(){return a(o)},submitBtnText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},r.a.createElement("div",null,r.a.createElement("div",null,"\u0413\u043e\u0434: ",c||"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),r.a.createElement("div",null,"\u0424\u043e\u0440\u043c\u0430\u0442: ",i||"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),r.a.createElement("div",null,"\u0410\u043a\u0442\u0435\u0440\u044b: ",s||"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")))}),M=a(24),F=a(26),I=a(13),P=a.n(I),V=a(22),A="https://skachkov-webby.firebaseio.com",z={title:"",release:"",stars:"",format:""},B=function(e){var t=e.handleCancel,a=Object(o.b)(),l=Object(n.useState)(z),c=Object(h.a)(l,2),i=c[0],s=c[1],m=function(e){return s(Object(u.a)(Object(u.a)({},i),{},Object(M.a)({},e.target.name,e.target.value)))},f=function(){return s(z)},d=function(e){var n,r;e.preventDefault(),a((n=i,r=f,function(){var e=Object(V.a)(P.a.mark((function e(t){var a,l,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/movies_information.json"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:l=e.sent,c=l.name,t({type:"SET_MOVIE",payload:{movie:Object(u.a)(Object(u.a)({},n),{},{key:c})}}),r();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t()},p=i.title,b=i.format,v=i.stars,E=i.release,O=!p.trim()||!E.trim()||!v.trim()||!b.trim();return r.a.createElement(_,{title:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onCancel:t,onSubmit:d,isDisabled:O,submitBtnText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"},r.a.createElement("form",{onSubmit:d},r.a.createElement(S,{label:"\u0424\u0438\u043b\u044c\u043c",name:"title",value:p,type:"text",handleFieldChange:m}),r.a.createElement(S,{label:"\u0413\u043e\u0434",name:"release",type:"number",value:E,handleFieldChange:m}),r.a.createElement(S,{label:"\u0424\u043e\u0440\u043c\u0430\u0442",name:"format",type:"text",value:b,handleFieldChange:m}),r.a.createElement(S,{label:"\u0410\u043a\u0442\u0435\u0440\u044b",name:"stars",type:"textarea",value:v,rows:"5",handleFieldChange:m})))},R=function(e){var t=e.handleCancel,a=Object(o.b)(),l=Object(n.useState)(null),c=Object(h.a)(l,2),i=c[0],s=c[1],m=function(e){var n;e.preventDefault(),a((n=i,function(){var e=Object(V.a)(P.a.mark((function e(t){var a,r,l,c,i,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(F.a)(n),e.prev=1,a.s();case 3:if((r=a.n()).done){e.next=15;break}return l=r.value,e.next=7,fetch("".concat(A,"/movies_information.json"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)});case 7:return c=e.sent,e.next=10,c.json();case 10:i=e.sent,s=i.name,t({type:"SET_MOVIE",payload:{movie:Object(u.a)(Object(u.a)({},l),{},{key:s})}});case 13:e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t){return e.apply(this,arguments)}}())),t()};return r.a.createElement(_,{title:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443 \u0438\u0437 \u0432\u0430\u0448\u0435\u0433\u043e \u0444\u0430\u0439\u043b\u0430.",onCancel:t,onSubmit:m,isDisabled:!i,submitBtnText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},r.a.createElement("ul",null,r.a.createElement("li",null,"1.\u0424\u0430\u0438\u043b \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0435 .txt."),r.a.createElement("li",null,"2. \u0418\u043c\u0435\u0442\u044c 4 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043b\u044f Title, Release Year, Format, Stars."),r.a.createElement("li",null,'3. \u041a\u0430\u0436\u0434\u0430\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0438\u043b\u044c\u043c\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c \u0441\u0442\u0440\u043e\u043a\u0438 "Enter".'),r.a.createElement("li",null,"4.\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0442\u0441\u0442\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0441\u0442\u0430\u0432\u0442\u0435 \u043f\u0440\u043e\u0431\u0435\u043b.")),r.a.createElement("form",{onSubmit:m},r.a.createElement(S,{classNameLabel:"form-field-label--file",classNameControl:"form-field-control--file",id:"fileExport",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{icon:d.c,size:"lg"}),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t={Title:"title",Format:"format",Stars:"stars","Release Year":"release"},a=e.target.result.split("\n\r").map((function(e){var a,n=e.split(/\n/).filter(Boolean),r={},l=Object(F.a)(n);try{for(l.s();!(a=l.n()).done;){var c=a.value.split(": "),i=Object(h.a)(c,2),s=i[0],o=i[1];r[t[s]]=o}}catch(m){l.e(m)}finally{l.f()}return r}));s(a)},t.readAsText(e.target.files[0])}})))},J=function(e){return{moviesList:e.moviesList,moviesSearchList:e.moviesSearchList,isLoad:e.isLoad}},W=[{value:"key",label:"\u0412\u044b\u043a\u043b"},{value:"title",label:"\u0418\u043c\u044f"},{value:"stars",label:"\u0410\u043a\u0442\u0435\u0440\u044b"}],H=[{value:"title",label:"\u0418\u043c\u044f"},{value:"stars",label:"\u0410\u043a\u0442\u0435\u0440\u044b"}],K=function(){var e=Object(o.b)(),t=Object(o.c)(J),a=t.moviesList,l=t.isLoad,c=t.moviesSearchList,i=Object(n.useState)(null),s=Object(h.a)(i,2),m=s[0],f=s[1],p=Object(n.useState)(""),b=Object(h.a)(p,2),v=b[0],E=b[1],y=Object(n.useState)("title"),g=Object(h.a)(y,2),C=g[0],k=g[1],x=Object(n.useState)(1),T=Object(h.a)(x,2),_=T[0],M=T[1],F=Object(n.useState)(!1),I=Object(h.a)(F,2),z=I[0],K=I[1],X=Object(n.useState)(!1),Y=Object(h.a)(X,2),U=Y[0],q=Y[1];Object(n.useEffect)((function(){e(function(){var e=Object(V.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(A,"/movies_information.json"));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"LOAD_MOVIES",payload:{movies:Object.entries(n).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(u.a)(Object(u.a)({},n),{},{key:a})}))}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var G=10*_,Q=G-10,Z=(c||a).slice(Q,G);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"search-form"},r.a.createElement(S,{type:"search",placeholder:"Search",classNameWrapper:"search-form-field-wrapper",onChange:function(e){return E(e.target.value)}}),r.a.createElement(O.a,{defaultValue:H[0],placeholder:"\u041f\u043e\u0438\u0441\u043a",classNamePrefix:"search-form-select",isSearchable:!1,onChange:function(e){return k(e.value)},options:H}),r.a.createElement(N,{className:"btn btn-primary",type:"submit",onClick:function(){M(1),e({type:"SET_SEARCH",payload:{value:v,tag:C}})}},r.a.createElement(j.a,{icon:d.e}))),r.a.createElement("div",{className:"page-controls"},r.a.createElement("div",{className:"page-controls-wrapper"},r.a.createElement(O.a,{defaultValue:W[0],placeholder:"C\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",classNamePrefix:"page-controls-select",isSearchable:!1,onChange:function(t){e({type:"SET_SORT",payload:t.value})},options:W}),r.a.createElement(N,{className:"btn btn-primary",onClick:function(){return q(!0)}},r.a.createElement(j.a,{icon:d.c})),r.a.createElement(N,{className:"btn btn-primary",onClick:function(){return K(!0)}},r.a.createElement(j.a,{icon:d.d})))),r.a.createElement(L,{isLoad:l,items:Z,onClick:function(e){return f(a.find((function(t){return t.key===e})))}}),r.a.createElement(w,{currentPage:_,perPage:10,total:c||a,onClick:function(e){return M(e)}}),m&&r.a.createElement(D,{handleCancel:function(){return f(null)},handleDelete:function(t){return e(function(e,t){return function(){var a=Object(V.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(A,"/movies_information/").concat(e,".json"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=a.sent,a.next=5,r.json();case 5:n({type:"DELETE_MOVIE",payload:{movieKey:e}}),t();case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,(function(){return f(null)})))},movie:m}),z&&r.a.createElement(B,{handleCancel:function(){return K(!1)}}),U&&r.a.createElement(R,{handleCancel:function(){return q(!1)}}))},X=(a(60),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("header",{className:"header"},"header"),r.a.createElement("main",{className:"main"},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:K}))),r.a.createElement("footer",{className:"footer"},"foter "))))});a(62);p.b.add(b.a,d.a,d.b);var Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,U=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_MOVIES":return Object(u.a)(Object(u.a)({},e),{},{isLoad:!1,moviesList:n.movies});case"SET_MOVIE":return Object(u.a)(Object(u.a)({},e),{},{moviesList:[].concat(Object(m.a)(e.moviesList),[n.movie])});case"SET_SEARCH":return Object(u.a)(Object(u.a)({},e),{},{moviesSearchList:e.moviesList.filter((function(e){return e[n.tag].includes(n.value)}))});case"SET_SORT":return Object(u.a)(Object(u.a)({},e),{},{moviesList:e.moviesList.sort((function(e,t){return e[n]>t[n]?1:-1}))});case"DELETE_MOVIE":return Object(u.a)(Object(u.a)({},e),{},{moviesList:e.moviesList.filter((function(e){return e.key!==n.movieKey}))});default:return e}}),Y(Object(i.a)(s.a)));c.a.render(r.a.createElement(o.a,{store:U},r.a.createElement(X,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.fbec888a.chunk.js.map